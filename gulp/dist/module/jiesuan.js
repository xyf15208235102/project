"use strict";console.log(document.cookie),$id("cart").onclick=function(){console.log(2)},$id("tbody").innerHTML="";for(var str1=getCookie("card"),allArr=str1?JSON.parse(str1):[],str="",i=0;i<allArr.length;i++)str+='\n\t\t\t\t\t<tr class="tbody-tr">\n\t        \t\t\t<td class="c-ckbox">\n\t        \t\t\t\t<img src="../img/hot'.concat(allArr[i].id,'.jpg" alt="" />\n\t        \t\t\t</td>\n\t        \t\t\t<td class="c-product">\n\t        \t\t\t\t<p>').concat(allArr[i].cnname,"</p>\n\t        \t\t\t\t<p>").concat(allArr[i].enname,'</p>\n\t        \t\t\t</td>\n\t        \t\t\t<td class="c-attr">免费赠送5套餐具</td>\n\t        \t\t\t<td class="c-amount">\n\t        \t\t\t\t<a href="javascript:;" class="pound-prev"></a>\n\t        \t\t\t\t<input type="text" class="pound" value="').concat(allArr[i].pound,'" class="pound"/>\n\t        \t\t\t\t<a href="javascript:;" class="pound-next"></a>\n\t        \t\t\t</td>\n\t        \t\t\t<td class="c-spec">1.5磅</td>\n\t        \t\t\t<td class="c-price">').concat(allArr[i].price,'</td>\n\t        \t\t\t<td class="c-privilege">无可用</td>\n\t        \t\t\t<td class="c-operate">\n\t        \t\t\t\t<a href="javascript:;" class="delBtn">删除</a>\n\t        \t\t\t</td>\n        \t\t\t</tr>\n\t\t\t\t\n\t\t\t');$id("tbody").innerHTML=str;var sum=0,amount=0,tr=$class("tbody-tr",$id("tbody"));for(i=0;i<tr.length;i++)sum+=tr[i].children[3].children[1].value*tr[i].children[5].innerHTML;$id("totalPrice").innerHTML=sum,$id("shuliang").innerHTML=tr.length,$(".pound-prev").on("click",function(){this.parentNode.children[1].value<=1?(confirm("您选择的商品数量不大于零，确定要删除该商品吗？")?($id("totalPrice").innerHTML=sum-=Number(this.parentNode.parentNode.children[5].innerHTML),this.parentNode.parentNode.parentNode.removeChild(this.parentNode.parentNode)):$id("totalPrice").innerHTML=sum=sum,$id("shuliang").innerHTML=tr.length):(this.parentNode.children[1].value--,$id("totalPrice").innerHTML=sum-=Number(this.parentNode.parentNode.children[5].innerHTML),console.log(sum))}),$(".pound-next").on("click",function(){99<=this.parentNode.children[1].value?(this.parentNode.children[1].value=99,sum=sum):(this.parentNode.children[1].value++,$id("totalPrice").innerHTML=sum+=Number(this.parentNode.parentNode.children[5].innerHTML),console.log(sum))}),$(".delBtn").on("click",function(){confirm("您确定要删除该商品吗？")&&(console.log(3),$id("totalPrice").innerHTML=sum-=Number(this.parentNode.parentNode.children[5].innerHTML)*parseInt(this.parentNode.parentNode.children[3].children[1].value),$id("shuliang").innerHTML=tr.length-1,this.parentNode.parentNode.parentNode.removeChild(this.parentNode.parentNode),""==$id("tbody").innerhtml&&($id("tbody").innerhtml="购物车空空如也",console.log(321)))}),$(".pound").on("focus",function(){amount=Number(this.value)}),$(".pound").on("blur",function(){Number(this.value)<=0&&confirm("您选择的商品数量不大于零，确定要删除该商品吗？")&&($id("totalPrice").innerHTML=sum-=Number(this.parentNode.parentNode.children[5].innerHTML)*amount,this.parentNode.parentNode.parentNode.removeChild(this.parentNode.parentNode),$id("shuliang").innerHTML=tr.length),99<Number(this.value)&&(this.value=99,$id("shuliang").innerHTML=tr.length,$id("totalPrice").innerHTML=sum+=(Number(this.value)-amount)*Number(this.parentNode.parentNode.children[5].innerHTML)),$id("shuliang").innerHTML=tr.length,$id("totalPrice").innerHTML=sum+=(Number(this.value)-amount)*Number(this.parentNode.parentNode.children[5].innerHTML)});